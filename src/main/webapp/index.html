<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toyota Hong Kong | Premium Vehicle Dealership</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!-- Enhanced Navigation -->
<nav>
    <div class="nav-container">
        <a href="#" class="logo">
            <span class="logo-icon"></span>
            <span>FINI Vehicles</span>
        </a>

        <div class="nav-links">
            <a href="#" class="active" onclick="showMainView()">Vehicles</a>
            <a href="#" onclick="showAbout()">About</a>
            <a href="#" onclick="showContact()">Contact</a>

            <!-- Role-specific links -->
            <a href="#" id="clientLink" style="display: none;" onclick="showClientDashboard()">My Orders</a>
            <a href="#" id="managerLink" style="display: none;" onclick="showManagerDashboard()">Management</a>
            <a href="#" id="deliveryLink" style="display: none;" onclick="showDeliveryDashboard()">Missions</a>
        </div>

        <div class="nav-actions">
            <!-- User Menu (shown when logged in) -->
            <div id="userMenu" class="user-menu" style="display: none;">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-role" id="userRole">Role</div>
                </div>
                <div class="user-dropdown">
                    <button class="btn btn-outline" onclick="logout()" style="width: 100%;">Logout</button>
                </div>
            </div>

            <!-- Login Button (shown when not logged in) -->
            <button id="loginButton" class="btn btn-outline" onclick="showAuthModal()">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>

            <button class="cart-button" onclick="openCart()">
                <span>Cart</span>
                <span class="cart-badge" id="cart-count">0</span>
            </button>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<div class="hero">
    <div class="hero-content">
        <h1>Premium Toyota Vehicles</h1>
        <p>Discover our extensive collection of quality Toyota vehicles in Hong Kong with exclusive features and premium service</p>
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number" id="totalVehicles">0</div>
                <div class="stat-label">Vehicles</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1K+</div>
                <div class="stat-label">Happy Clients</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">500+</div>
                <div class="stat-label">Deliveries</div>
            </div>
        </div>
    </div>
</div>

<!-- Main Vehicle Marketplace -->
<div id="mainView">
    <div class="container">
        <!-- Controls -->
        <div class="controls">
            <div class="search-bar">
                <input type="text" id="searchInput" class="search-input" placeholder="Search by model name (e.g., Corolla, Camry, RAV4...)">
                <button class="search-btn" onclick="applyFilters()">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>

            <div class="filter-row">
                <div class="filter-group">
                    <label>Warehouse Location</label>
                    <select id="warehouseFilter">
                        <option value="">All Warehouses</option>
                        <option value="1">Warehouse 1</option>
                        <option value="2">Warehouse 2</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Max Price (HKD)</label>
                    <input type="number" id="priceFilter" placeholder="e.g., 300000" step="10000">
                </div>

                <div class="filter-group">
                    <label>Year</label>
                    <select id="yearFilter">
                        <option value="">All Years</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label>Factory</label>
                    <select id="factoryFilter">
                        <option value="">All Factories</option>
                        <option value="1">Factory 1</option>
                        <option value="2">Factory 2</option>
                    </select>
                </div>
            </div>

            <div class="filter-actions">
                <div>
                    <button class="btn btn-primary" onclick="applyFilters()">
                        <i class="fas fa-filter"></i> Apply Filters
                    </button>
                    <button class="btn btn-secondary" onclick="resetFilters()">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Info -->
        <div class="results-info">
            <div class="results-count" id="resultsCount">Loading vehicles...</div>
            <div style="display: flex; gap: 15px; align-items: center;">
                <select class="sort-select" id="sortSelect" onchange="sortVehicles()">
                    <option value="default">Sort by: Default</option>
                    <option value="price-asc">Price: Low to High</option>
                    <option value="price-desc">Price: High to Low</option>
                    <option value="year-desc">Year: Newest First</option>
                    <option value="year-asc">Year: Oldest First</option>
                    <option value="name-asc">Name: A to Z</option>
                </select>
                <div class="view-options">
                    <button class="view-btn active" onclick="setGridView()">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class="view-btn" onclick="setListView()">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            Loading vehicles...
        </div>

        <!-- Error -->
        <div id="error" class="error" style="display: none;"></div>

        <!-- No Results -->
        <div id="noResults" class="no-results" style="display: none;">
            <div style="font-size: 48px; margin-bottom: 20px;">üîç</div>
            No vehicles found matching your criteria
        </div>

        <!-- Vehicles Grid -->
        <div id="vehiclesGrid" class="vehicles-grid"></div>
    </div>
</div>

<!-- Client Dashboard -->
<div id="clientDashboard" style="display: none;">
    <div class="container">
        <div class="dashboard-header">
            <h1>My Orders</h1>
            <div class="client-welcome">
                Welcome back, <span id="clientName">Client</span>!
            </div>
        </div>

        <div class="dashboard-card">
            <h3><i class="fas fa-shopping-bag"></i> Order History</h3>
            <div id="clientOrders" class="orders-list">
                <div class="loading">Loading orders...</div>
            </div>
        </div>
    </div>
</div>

<!-- Manager Dashboard -->
<div id="managerDashboard" style="display: none;">
    <div class="container">
        <div class="dashboard-header">
            <h1>Management Dashboard</h1>
            <div class="manager-actions">
                <button class="btn btn-primary" onclick="showOrderManagement()">
                    <i class="fas fa-shopping-cart"></i> Manage Orders
                </button>
                <button class="btn btn-primary" onclick="showDeliveryManagement()">
                    <i class="fas fa-truck"></i> Manage Deliveries</button>
            </div>
        </div>

        <!-- Order Management -->
        <div id="orderManagement" class="management-section">
            <h3><i class="fas fa-shopping-cart"></i> Order Management</h3>
            <div id="inventoryList" class="inventory-grid">
                <div class="loading">Loading orders...</div>
            </div>
        </div>

        <!-- Delivery Management -->
        <div id="deliveryManagement" class="management-section" style="display: none;">
            <h3><i class="fas fa-truck"></i> Delivery Management</h3>
            <div class="delivery-stats">
                <div class="stat-card">
                    <div class="stat-number" id="pendingMissions">0</div>
                    <div class="stat-label">Pending Missions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="inProgressMissions">0</div>
                    <div class="stat-label">In Progress</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedMissions">0</div>
                    <div class="stat-label">Completed</div>
                </div>
            </div>
            <div id="deliveryMissionsList" class="missions-list">
                <div class="loading">Loading delivery missions...</div>
            </div>
        </div>
    </div>
</div>

<!-- Delivery Personnel Dashboard -->
<div id="deliveryPersonnelDashboard" style="display: none;">
    <div class="container">
        <div class="dashboard-header">
            <h1>Delivery Missions</h1>
            <div class="delivery-man-info">
                <span id="deliveryManName">Delivery Personnel</span>
            </div>
        </div>

        <div class="missions-container">
            <div class="mission-card pending">
                <h3><i class="fas fa-clock"></i> Pending Missions</h3>
                <div id="pendingMissionsList" class="missions-list">
                    <div class="loading">Loading pending missions...</div>
                </div>
            </div>

            <div class="mission-card active">
                <h3><i class="fas fa-play-circle"></i> Active Mission</h3>
                <div id="activeMission" class="mission-details">
                    <div class="loading">Loading active mission...</div>
                </div>
            </div>

            <div class="mission-card completed">
                <h3><i class="fas fa-check-circle"></i> Mission History</h3>
                <div id="completedMissionsList" class="missions-list">
                    <div class="loading">Loading mission history...</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Authentication Modal -->
<div id="authModal" class="modal">
    <div class="modal-content" style="max-width: 400px;">
        <div class="modal-header">
            <h2 id="authTitle">Login to Your Account</h2>
            <button class="close-btn" onclick="closeAuthModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" class="form-input" placeholder="your@email.com" value="client@example.com">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="password123">
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="login()">Sign In</button>
                <p style="text-align: center; margin-top: 20px;">
                    Don't have an account?
                    <a href="#" onclick="showRegisterForm()" style="color: #eb0a1e;">Register here</a>
                </p>

                <!-- Quick Login Buttons for Demo -->
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
                    <p style="text-align: center; margin-bottom: 10px; font-size: 12px; color: #888;">Quick Demo Login:</p>
                    <div style="display: flex; gap: 10px; flex-direction: column;">
                        <button class="btn btn-outline" onclick="quickLogin('CLIENT')">Login as Client</button>
                        <button class="btn btn-outline" onclick="quickLogin('MANAGER')">Login as Manager</button>
                        <button class="btn btn-outline" onclick="quickLogin('DELIVERY_MAN')">Login as Delivery</button>
                    </div>
                </div>
            </div>

            <div id="registerForm" style="display: none;">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="registerName" class="form-input" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" class="form-input" placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="registerPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select id="registerRole" class="form-input">
                        <option value="CLIENT">Client</option>
                        <option value="MANAGER">Manager</option>
                        <option value="DELIVERY_MAN">Delivery Personnel</option>
                    </select>
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="register()">Create Account</button>
                <p style="text-align: center; margin-top: 20px;">
                    Already have an account?
                    <a href="#" onclick="showLoginForm()" style="color: #eb0a1e;">Sign in here</a>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Cart Modal -->
<div id="cartModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Shopping Cart</h2>
            <button class="close-btn" onclick="closeCart()">&times;</button>
        </div>
        <div class="modal-body" id="cartItems"></div>
        <div class="modal-footer">
            <div class="cart-summary">
                <span class="summary-label">Items:</span>
                <span class="summary-value" id="itemCount">0</span>
            </div>
            <div class="cart-total">
                <span class="total-label">Total:</span>
                <span class="total-value" id="cartTotal">HKD 0</span>
            </div>
            <button class="checkout-btn" onclick="checkout()" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>√•
</div>

<script src="js/app.js"></script>
</body>
</html>
